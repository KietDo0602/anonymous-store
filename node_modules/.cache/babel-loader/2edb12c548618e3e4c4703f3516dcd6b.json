{"ast":null,"code":"import _regeneratorRuntime from \"H:\\\\React Code\\\\Anonymous online store\\\\React-Shopping-Cart-master\\\\anonymous-online-store\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"H:\\\\React Code\\\\Anonymous online store\\\\React-Shopping-Cart-master\\\\anonymous-online-store\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"H:\\\\React Code\\\\Anonymous online store\\\\React-Shopping-Cart-master\\\\anonymous-online-store\\\\src\\\\components\\\\Home.js\";\nimport React, { useContext } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { addToCart as _addToCart } from './actions/cartActions';\nimport { initState as state } from '../components/reducers/cartReducer';\nimport { UserContext } from \"../UserContext\";\n\nfunction Home(props) {\n  var _useContext = useContext(UserContext),\n      user = _useContext.user,\n      setUser = _useContext.setUser;\n\n  var handleClick =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(props, item, user) {\n      var resp, arr, items, i, productId, userId, response, userUpdated;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              props.addToCart(item.id);\n\n              if (!(user === null)) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 3:\n              _context.next = 5;\n              return axios.get('http://localhost:3001/items');\n\n            case 5:\n              resp = _context.sent;\n              arr = resp.data;\n              items = null;\n              i = 0;\n\n            case 9:\n              if (!(i < arr.length)) {\n                _context.next = 18;\n                break;\n              }\n\n              if (!(arr[i].name === item.title)) {\n                _context.next = 15;\n                break;\n              }\n\n              productId = arr[i]._id;\n              userId = user._id;\n              items = {\n                productId: productId,\n                userId: userId\n              };\n              return _context.abrupt(\"break\", 18);\n\n            case 15:\n              i++;\n              _context.next = 9;\n              break;\n\n            case 18:\n              _context.next = 20;\n              return axios.post('http://localhost:3001/users/addItem', items);\n\n            case 20:\n              response = _context.sent;\n              _context.next = 23;\n              return axios.get(\"http://localhost:3001/users/get/\".concat(user._id));\n\n            case 23:\n              userUpdated = _context.sent;\n              console.log(\"Response: \");\n              console.log(response);\n              console.log(\"UserUpdated: \");\n              console.log(userUpdated);\n              setUser(userUpdated);\n\n            case 29:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function handleClick(_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var itemList = props.items.map(function (item) {\n    return React.createElement(\"div\", {\n      className: \"card\",\n      key: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"itemsImage\",\n      src: item.img,\n      alt: item.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"card-title title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, item.title), React.createElement(\"span\", {\n      to: \"/\",\n      className: \"btn-floating halfway-fab waves-effect waves-light indigo darken-4\",\n      onClick: function onClick() {\n        handleClick(props, item, user);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"large material-icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"shopping_cart\"))), React.createElement(\"div\", {\n      className: \"card-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, item.desc), React.createElement(\"p\", {\n      className: \"price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Price: \", item.price, \"$\"))));\n  });\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), \" \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), \" \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(\"h3\", {\n    className: \"center headline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"116 Tech Shop\"), React.createElement(\"h6\", {\n    className: \"center headline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Everything Tech-Related \"), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, itemList));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    items: state.items\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addToCart: function addToCart(id) {\n      dispatch(_addToCart(id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["H:\\React Code\\Anonymous online store\\React-Shopping-Cart-master\\anonymous-online-store\\src\\components\\Home.js"],"names":["React","useContext","axios","connect","addToCart","initState","state","UserContext","Home","props","user","setUser","handleClick","item","id","get","resp","arr","data","items","i","length","name","title","productId","_id","userId","post","response","userUpdated","console","log","itemList","map","img","desc","price","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,SAAS,IAATA,UAAT,QAA0B,uBAA1B;AACA,SAASC,SAAS,IAAIC,KAAtB,QAAmC,oCAAnC;AACA,SAASC,WAAT,QAA4B,gBAA5B;;AAEA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAAA,oBACSR,UAAU,CAACM,WAAD,CADnB;AAAA,MACTG,IADS,eACTA,IADS;AAAA,MACHC,OADG,eACHA,OADG;;AAEjB,MAAMC,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG,iBAAOH,KAAP,EAAcI,IAAd,EAAoBH,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBD,cAAAA,KAAK,CAACL,SAAN,CAAgBS,IAAI,CAACC,EAArB;;AADgB,oBAEZJ,IAAI,KAAK,IAFG;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,qBAGGR,KAAK,CAACa,GAAN,CAAU,6BAAV,CAHH;;AAAA;AAGVC,cAAAA,IAHU;AAIZC,cAAAA,GAJY,GAIND,IAAI,CAACE,IAJC;AAKZC,cAAAA,KALY,GAKJ,IALI;AAMPC,cAAAA,CANO,GAMH,CANG;;AAAA;AAAA,oBAMAA,CAAC,GAAGH,GAAG,CAACI,MANR;AAAA;AAAA;AAAA;;AAAA,oBAORJ,GAAG,CAACG,CAAD,CAAH,CAAOE,IAAP,KAAgBT,IAAI,CAACU,KAPb;AAAA;AAAA;AAAA;;AAQFC,cAAAA,SARE,GAQUP,GAAG,CAACG,CAAD,CAAH,CAAOK,GARjB;AASFC,cAAAA,MATE,GASOhB,IAAI,CAACe,GATZ;AAURN,cAAAA,KAAK,GAAG;AAAEK,gBAAAA,SAAS,EAATA,SAAF;AAAcE,gBAAAA,MAAM,EAANA;AAAd,eAAR;AAVQ;;AAAA;AAMgBN,cAAAA,CAAC,EANjB;AAAA;AAAA;;AAAA;AAAA;AAAA,qBAcOlB,KAAK,CAACyB,IAAN,CAAW,qCAAX,EAAkDR,KAAlD,CAdP;;AAAA;AAcVS,cAAAA,QAdU;AAAA;AAAA,qBAeQ1B,KAAK,CAACa,GAAN,2CAA6CL,IAAI,CAACe,GAAlD,EAfR;;AAAA;AAeZI,cAAAA,WAfY;AAgBhBC,cAAAA,OAAO,CAACC,GAAR;AACAD,cAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACAE,cAAAA,OAAO,CAACC,GAAR;AACAD,cAAAA,OAAO,CAACC,GAAR,CAAYF,WAAZ;AACAlB,cAAAA,OAAO,CAACkB,WAAD,CAAP;;AApBgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXjB,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAuBA,MAAIoB,QAAQ,GAAGvB,KAAK,CAACU,KAAN,CAAYc,GAAZ,CAAgB,UAAApB,IAAI,EAAI;AACnC,WACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAsB,MAAA,GAAG,EAAEA,IAAI,CAACC,EAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAA4B,MAAA,GAAG,EAAED,IAAI,CAACqB,GAAtC;AAA2C,MAAA,GAAG,EAAErB,IAAI,CAACU,KAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAM,MAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoCV,IAAI,CAACU,KAAzC,CAFJ,EAGI;AAAM,MAAA,EAAE,EAAC,GAAT;AAAa,MAAA,SAAS,EAAC,mEAAvB;AAA2F,MAAA,OAAO,EAAE,mBAAM;AACtGX,QAAAA,WAAW,CAACH,KAAD,EAAQI,IAAR,EAAcH,IAAd,CAAX;AAA+B,OADnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACqC;AAAG,MAAA,SAAS,EAAC,sBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADrC,CAHJ,CADJ,EAQI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAG,MAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4BG,IAAI,CAACsB,IAAjC,CADJ,EAEI;AAAG,MAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAWtB,IAAI,CAACuB,KAAhB,MAArB,CAFJ,CARJ,CADJ;AAeH,GAhBc,CAAf;AAkBA,SACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,OACU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADV,OACgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADhB,EAEI;AAAI,IAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFJ,EAGI;AAAI,IAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAKI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKJ,QADL,CALJ,CADJ;AAWH;;AAED,IAAMK,eAAe,GAAG,SAAlBA,eAAkB,CAAC/B,KAAD,EAAS;AAC7B,SAAO;AACLa,IAAAA,KAAK,EAAEb,KAAK,CAACa;AADR,GAAP;AAGH,CAJD;;AAKA,IAAMmB,kBAAkB,GAAE,SAApBA,kBAAoB,CAACC,QAAD,EAAY;AAElC,SAAM;AACFnC,IAAAA,SAAS,EAAE,mBAACU,EAAD,EAAM;AAACyB,MAAAA,QAAQ,CAACnC,UAAS,CAACU,EAAD,CAAV,CAAR;AAAwB;AADxC,GAAN;AAGH,CALD;;AAOA,eAAeX,OAAO,CAACkC,eAAD,EAAiBC,kBAAjB,CAAP,CAA4C9B,IAA5C,CAAf","sourcesContent":["import React, { useContext } from 'react'\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux'\r\nimport { addToCart } from './actions/cartActions'\r\nimport { initState as state } from '../components/reducers/cartReducer';\r\nimport { UserContext } from \"../UserContext\"\r\n\r\nfunction Home(props) {\r\n    const { user, setUser } = useContext(UserContext);\r\n    const handleClick = async (props, item, user) => {\r\n        props.addToCart(item.id);\r\n        if (user === null) return;\r\n        const resp = await axios.get('http://localhost:3001/items');\r\n        var arr = resp.data;\r\n        var items = null;\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (arr[i].name === item.title) {\r\n                const productId = arr[i]._id;\r\n                const userId = user._id;\r\n                items = { productId,  userId};\r\n                break;\r\n            }\r\n        }\r\n        const response = await axios.post('http://localhost:3001/users/addItem', items);\r\n        let userUpdated = await axios.get(`http://localhost:3001/users/get/${user._id}`);\r\n        console.log(`Response: `);\r\n        console.log(response);\r\n        console.log(`UserUpdated: `);\r\n        console.log(userUpdated);\r\n        setUser(userUpdated);\r\n    }\r\n\r\n    let itemList = props.items.map(item => {\r\n        return (\r\n            <div className=\"card\" key={item.id}>\r\n                <div className=\"card-image\">\r\n                    <img className=\"itemsImage\" src={item.img} alt={item.title}/>\r\n                    <span className=\"card-title title\">{item.title}</span>\r\n                    <span to=\"/\" className=\"btn-floating halfway-fab waves-effect waves-light indigo darken-4\" onClick={() => {\r\n                        handleClick(props, item, user)}}><i className=\"large material-icons\">shopping_cart</i></span>\r\n                </div>\r\n\r\n                <div className=\"card-content\">\r\n                    <p className=\"description\">{item.desc}</p>\r\n                    <p className=\"price\"><b>Price: {item.price}$</b></p>\r\n                </div>\r\n            </div>\r\n        );\r\n    })\r\n\r\n    return(\r\n        <div className=\"container\">\r\n            <br/> <br/> <br/>\r\n            <h3 className=\"center headline\">116 Tech Shop</h3>\r\n            <h6 className=\"center headline\">Everything Tech-Related </h6>\r\n            <hr/>\r\n            <div className=\"box\">\r\n                {itemList}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n      items: state.items\r\n    }\r\n}\r\nconst mapDispatchToProps= (dispatch)=>{\r\n    \r\n    return{\r\n        addToCart: (id)=>{dispatch(addToCart(id))}\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Home);"]},"metadata":{},"sourceType":"module"}